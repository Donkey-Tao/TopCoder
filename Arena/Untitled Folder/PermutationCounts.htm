<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
You are given an integer <b>N</b> and a tuple (integer) <b>pos</b>.
We are interested in some permutations of the set {1,2,...,<b>N</b>}.
A permutation p is called good if the following condition is satisfied:
for each valid k, we have p(k) &lt; p(k+1) if and only if k is an element of <b>pos</b>.
</p>

<p>
Return the number of good permutations, modulo 1,000,000,007.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>PermutationCounts</td></tr><tr><td>Method:</td><td>countPermutations</td></tr><tr><td>Parameters:</td><td>integer, tuple (integer)</td></tr><tr><td>Returns:</td><td>integer</td></tr><tr><td>Method signature:</td><td>def countPermutations(self, N, pos):</td></tr><tr><td colspan="2"></td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 1 and 1,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>pos</b> will contain between 0 and min(<b>N</b>-1, 2500) elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Elements of <b>pos</b> will be distinct.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>pos</b> will be between 1 and <b>N</b>-1, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>{3}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 9</pre></td></tr><tr><td><table><tr><td colspan="2"><p>
Given that <b>pos</b> = {3}, we are looking for permutations where p(1) &gt; p(2), p(2) &gt; p(3), p(3) &lt; p(4), and p(4) &gt; p(5).
Thus, the good permutations are the following ones:
</p>

<ul>
<li> {3,2,1,5,4} </li>
<li> {4,2,1,5,3} </li>
<li> {4,3,1,5,2} </li>
<li> {4,3,2,5,1} </li>
<li> {5,2,1,4,3} </li>
<li> {5,3,1,4,2} </li>
<li> {5,3,2,4,1} </li>
<li> {5,4,1,3,2} </li>
<li> {5,4,2,3,1} </li>
</ul></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>13</pre></td></tr><tr><td><pre>{12,11,10,9,8,7,6,5,4,3,2,1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>13</pre></td></tr><tr><td><pre>{}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>9</pre></td></tr><tr><td><pre>{2,4,5}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1421</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>80</pre></td></tr><tr><td><pre>{31,41,59,26,53,58,9,79,32,3,8,46}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 82650786</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>875</pre></td></tr><tr><td><pre>{295,311,98,345,420,547,646,734,380,325,608,783,141,65,305,437,769,252,44,
872,123,6,50,507,450,426,343,740,69,695,101,607,597,535,342,307,329,837,803,
237,459,444,498,15,712,134,473,14,715,223,787,192,710,750,193,293,242,652,
212,580,545,488,506,533,774,460,285,534,350,210,559,805,686,67,159,541,706,
514,657,801,373,754,310,800,589,736,863,675,254,283,604,27,628,103,81,235,
677,461,609,30,581,75,756,688,262,563,679,21,217,515,836,868,13,728,717,
309,267,767,259,414,332,744,129,859,4,179,632,415,278,812,79,77,784,573,433,
865,407,121,477,567,790,127,593,57,674,114,239,599,552,738}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 169176190</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>