<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Cat Snuke has a tree with N nodes.
The nodes are numbered 0 through N-1.
You are given a vector &lt;int&gt; <b>parent</b> that represents the structure of the tree.
The value <b>parent</b>[0] should be ignored.
For each i &gt; 0, there is an edge that connects the nodes i and <b>parent</b>[i].
<br></br>
<br></br>
Initially, Snuke placed a red token onto node 0, and black tokens onto some of the other nodes (possibly none or all of them).
You are given this information as a vector &lt;int&gt; <b>token</b> with N elements.
For each i, <b>token</b>[i] will be either 0 or 1.
Here, 0 means that node i is empty, and 1 means that it contains a token.
It is guaranteed that <b>token</b>[0]=1.
<br></br>
<br></br>
Snuke now plays a game with the tokens.
Whenever there is a node with a token adjacent to an empty node, Snuke may slide the token along the edge from its current node to the adjacent empty one.
The goal of the game is to move the red token into a specific node.
<br></br>
<br></br>
Return a vector &lt;int&gt; with N elements.
For each i, element i of the return value should be 1 if it is possible to reach node i with the red token, and 0 otherwise.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>TreePuzzle</td></tr><tr><td>Method:</td><td>reachable</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;, vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>vector &lt;int&gt;</td></tr><tr><td>Method signature:</td><td>vector &lt;int&gt; reachable(vector &lt;int&gt; parent, vector &lt;int&gt; token)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td>N will be between 2 and 300, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>parent</b> will contain exactly N elements.</td></tr><tr><td align="center" valign="top">-</td><td><b>parent</b>[0] will be -1.</td></tr><tr><td align="center" valign="top">-</td><td>For each i &gt; 0, <b>parent</b>[i] will be between 0 and i-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>token</b> will contain exactly N elements.</td></tr><tr><td align="center" valign="top">-</td><td><b>token</b>[0] will be 1.</td></tr><tr><td align="center" valign="top">-</td><td>For each i &gt; 0, <b>token</b>[i] will be either 0 or 1.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 0, 0, 0, 1}</pre></td></tr><tr><td><pre>{1, 1, 0, 0, 1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {1, 1, 1, 1, 0 }</pre></td></tr><tr><td><table><tr><td colspan="2">In the figure below, each row shows a sequence of moves that starts from the initial configuration and ends with the red token reaching one of the nodes 0, 1, 2, and 3. There is no valid sequence of moves such that the red token reaches the node 4.
<br></br>
<br></br>
<img src="http://www.topcoder.com/contest/problem/TreePuzzle/s_pic.png" width="800" height="400"></img>
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 0, 1, 0, 3, 2, 5, 6, 7, 8}</pre></td></tr><tr><td><pre>{1, 1, 1, 1, 1, 1, 0, 0, 1, 0}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {1, 1, 1, 0, 0, 1, 0, 0, 0, 0 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 0, 0, 2, 1, 1, 5, 0, 0, 2}</pre></td></tr><tr><td><pre>{1, 1, 1, 1, 1, 1, 1, 1, 1, 1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {1, 0, 0, 0, 0, 0, 0, 0, 0, 0 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 0, 1, 2, 3, 4, 5, 0, 7, 6, 8, 9, 11, 0, 11, 2, 15, 13, 15, 10}</pre></td></tr><tr><td><pre>{1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: {1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 0, 1, 2, 3, 4, 0, 5, 7, 8, 6, 10, 11, 9, 13, 14, 12, 16, 16, 18,
15, 10, 17, 2, 23, 22, 21, 20, 27, 24, 19, 30, 28, 29, 17, 21, 34, 35, 31, 30,
36, 32, 31, 39, 26, 40, 3, 38, 45, 25, 49, 46, 41, 44, 51, 47, 18, 54, 48, 36,
43, 57, 52, 56, 60, 59, 53, 61, 64, 68, 37, 55, 71, 32, 26, 73, 28, 50, 75, 72,
70, 67, 74, 66, 79, 76, 78, 63, 69, 41, 83, 86, 80, 18, 82, 87, 58, 62, 42, 20}</pre></td></tr><tr><td><pre>{1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 
{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1,
 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1,
 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1,
 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1,
 1, 1, 0, 1, 0 }</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
