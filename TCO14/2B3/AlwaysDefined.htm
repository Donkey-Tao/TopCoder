<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Given is a positive integer <b>W</b>.
We will use <b>W</b> to define a function f.
The value f(x) is computed as follows:
<ul>
<li>If x is not a positive integer, f(x) is undefined.</li>
<li>Let y = x modulo <b>W</b>. If y is zero, f(x) is undefined.</li>
<li>Otherwise, f(x) = x/y (where "/" denotes exact real division).</li>
</ul>
For any positive integer x, consider the following infinite sequence:
x, f(x), f(f(x)), f(f(f(x))), and so on.
We say that f is always defined for x if all the terms of the above sequence are defined.
(In other words, there is no positive integer k such that f^k(x) is undefined.
Here, f^k denotes f applied k times.)
<br></br><br></br>
You are given long longs <b>L</b> and <b>R</b>, and the int <b>W</b> used in our function f.
Count all x between <b>L</b> and <b>R</b>, inclusive, such that f is always defined for x.
Return that count.
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>AlwaysDefined</td></tr><tr><td>Method:</td><td>countIntegers</td></tr><tr><td>Parameters:</td><td>long long, long long, int</td></tr><tr><td>Returns:</td><td>long long</td></tr><tr><td>Method signature:</td><td>long long countIntegers(long long L, long long R, int W)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>L</b> will be between 1 and 10^18, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>R</b> will be between <b>L</b> and 10^18, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>W</b> will be between 2 and 3000, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>10</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>4</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">For <b>W</b> = 4, we have f(10) = 5, f(f(10)) = 5, f(f(f(10))) = 5 and so on, thus f is always defined for x = 10.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>99</pre></td></tr><tr><td><pre>2</pre></td></tr></table></td></tr><tr><td><pre>Returns: 50</pre></td></tr><tr><td><table><tr><td colspan="2">For <b>W</b> = 2, f is always defined for odd integers but not for even integers. There are 50 odd integers between 1 and 99, inclusive.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1282</pre></td></tr><tr><td><pre>1410</pre></td></tr><tr><td><pre>10</pre></td></tr></table></td></tr><tr><td><pre>Returns: 42</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>29195807</pre></td></tr><tr><td><pre>273209804877</pre></td></tr><tr><td><pre>42</pre></td></tr></table></td></tr><tr><td><pre>Returns: 31415926535</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
