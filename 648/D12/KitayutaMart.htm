<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p><i>This problem statement contains superscripts that may not display properly outside the applet.</i></p>
<p></p>
<p>Kitayuta Mart is the largest supermarket in Shuseki Kingdom, offering a great variety of food and household products. The main products are fruits, especially apples. The store sells <b>K</b> kinds of apples, numbered from 1 to <b>K</b>. The price system is a little special: the <i>original price</i> of an apple of kind <i>i</i> (1 &lt;= <i>i</i> &lt;= <b>K</b>) is <i>i</i> yen (the currency of the kingdom). However, if a customer wants to buy more than one apple of kind <i>i</i>, the second apple will cost 2*<i>i</i> yen, the third apple will cost 2<sup>2</sup>*<i>i</i> yen, and so on. In general, if a customer is buying <i>n</i> apples of kind <i>i</i>, the <i>actual price</i> of the <i>j</i>-th (1 &lt;= <i>j</i> &lt;= <i>n</i>) apple will be 2<sup><i>j</i>-1</sup>*<i>i</i> yen. The store has a sufficient supply of each kind of apples.</p>
<p></p>
<p>Lun the dog loves apples. She wants to buy <b>N</b> apples at Kitayuta Mart. The kinds of apples does not matter to her, thus she will choose <b>N</b> apples so that the total price calculated using the above formula is minimized. You are given two ints: <b>N</b> and <b>K</b>. Find and return the <i>actual price</i> (NOT the <i>original price</i>) of the apple with the highest <i>actual price</i> among the apples that she will buy modulo 1,000,000,007.</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>KitayutaMart</td></tr><tr><td>Method:</td><td>lastPrice</td></tr><tr><td>Parameters:</td><td>int, int</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int lastPrice(int N, int K)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>It can be shown that the answer is unique.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 1 and 1,000,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>K</b> will be between 1 and 1,000,000,000, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2">The store sells only one kind of apples. Their <i>original price</i> is 1 yen. She will buy three of them, and the most expensive one will cost 2<sup>2</sup>*1 = 4 yen.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>2</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">In this case, another kind of apples is also on sale. Instead of buying three of kind 1, she can buy two of kind 1 and one of kind 2. Their costs will be 1, 2, and 2 yen, so the most expensive apple in this case only costs 2 yen.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>3</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2">This time, yet another kind of apples is available, and she needs five apples. There are two options:
<ul>
<li>two of kind 1, two of kind 2, one of kind 3</li>
<li>three of kind 1, one of kind 2, one of kind 3</li>
</ul>
In either way, she will have to pay 4 yen for the most expensive apple.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1000000000</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 570312504</pre></td></tr><tr><td><table><tr><td colspan="2">In this extreme case, the price of an apple will reach 2<sup>999999999</sup> yen.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>987654321</pre></td></tr><tr><td><pre>876543210</pre></td></tr></table></td></tr><tr><td><pre>Returns: 493827168</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
